<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j">

	<h:panelGrid id="maingrig" rows="2" width="100%" height="200px"
		border="1" rowClasses="subjects-tree, subjects-buttons-panel">
		<h:form id="treeform">
			<rich:tree id="tree" nodeType="#{node.type}" var="node"
				reRender="testLabel" value="#{subjectsTreeController.nodes}"
				toggleType="client"
				selectionChangeListener="#{subjectsTreeController.selectionChanged}">
				<!-- componentState="#{treeBean.dataState}"
				toggleListener="#{treeBean.toggleNodeListener}" -->
				<f:ajax event="selectionchange" render=":form2:buttonpanel" />
				<rich:treeNode type="subject" expanded="#{node.expanded}">
    	         	#{node.name}
    	         </rich:treeNode>
			</rich:tree>
		</h:form>
		<h:form id="form2">
			<h:panelGrid id="buttonpanel">

				<h:outputText id="testLabel"
					value="selected: #{subjectsTreeController.currentSelection}" />
				<rich:toolbar ajaxRendered="true"
					rendered="#{subjectsGroupsButtonController.toolBarVisible}">
					<rich:toolbarGroup location="left">
						<a4j:commandButton id="submitButton" value="New"
							action="#{subjectsGroupsButtonController.newButtonExecute}"
							oncomplete="return false" />

					</rich:toolbarGroup>
				</rich:toolbar>

				<rich:panel id="newgrouppanel" header="Save New Value">
					<h:inputText value=""></h:inputText>
					<h:commandButton value="Save"
						action="#{subjectsGroupsButtonController.newButtonExecute}"></h:commandButton>
				</rich:panel>
			</h:panelGrid>
		</h:form>
	</h:panelGrid>
</ui:composition>