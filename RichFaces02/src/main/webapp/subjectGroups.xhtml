<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j">

	<h:panelGrid rows="2" width="100%" height="200px" border="1"
		rowClasses="subjects-tree, subjects-buttons-panel">
		<h:form>
			<rich:tree id="tree" nodeType="#{node.type}" var="node"
				reRender="newButton" value="#{subjectsTreeController.nodes}"
				toggleType="client" selectionType="ajax"
				selectionChangeListener="#{subjectsTreeController.selectionChanged}">
				<!-- componentState="#{treeBean.dataState}"
				toggleListener="#{treeBean.toggleNodeListener}" -->
				<rich:treeNode type="subject" expanded="#{node.expanded}">
    	         	#{node.name}
    	         </rich:treeNode>
			</rich:tree>
		</h:form>
		<h:panelGrid>
			<a4j:outputPanel ajaxRendered="true" layout="block"
				rendered="#{subjectsTreeController.currentSelection!=null}">
				<rich:toolbar>
					<rich:toolbarGroup location="left">
						<a4j:commandButton id="newButton" value="New" action="home"
							disabled="#{subjectsGroupsButtonController.newButton.disabled}"></a4j:commandButton>
						<a4j:commandButton value="Edit" action="home"
							disabled="#{subjectsGroupsButtonController.editButton.disabled}"></a4j:commandButton>
						<a4j:commandButton value="Cut" action="home"
							disabled="#{subjectsGroupsButtonController.cutButton.disabled}"></a4j:commandButton>
						<a4j:commandButton value="Paste" action="home"
							disabled="#{subjectsGroupsButtonController.pasteButton.disabled}"></a4j:commandButton>
					</rich:toolbarGroup>
				</rich:toolbar>
			</a4j:outputPanel>
			<h:inputText value=""></h:inputText>
			<h:commandButton value="Save" action="home"></h:commandButton>
		</h:panelGrid>
	</h:panelGrid>
</ui:composition>